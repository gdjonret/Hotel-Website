<!-- Google Analytics 4 -->
<!-- Replace G-XXXXXXXXXX with your actual Google Analytics 4 Measurement ID -->
<!-- Get your ID from: https://analytics.google.com -->

<% if (process.env.GA_MEASUREMENT_ID) { %>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=<%= process.env.GA_MEASUREMENT_ID %>"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', '<%= process.env.GA_MEASUREMENT_ID %>', {
    'send_page_view': true,
    'anonymize_ip': true
  });
  
  // Track booking button clicks
  document.addEventListener('DOMContentLoaded', function() {
    const bookingButtons = document.querySelectorAll('a[href*="BookNow"], button[data-action="book"]');
    bookingButtons.forEach(button => {
      button.addEventListener('click', function() {
        gtag('event', 'click_book_now', {
          'event_category': 'Booking',
          'event_label': 'Book Now Button'
        });
      });
    });
    
    // Track phone number clicks
    const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
    phoneLinks.forEach(link => {
      link.addEventListener('click', function() {
        gtag('event', 'click_phone', {
          'event_category': 'Contact',
          'event_label': 'Phone Number'
        });
      });
    });
  });
</script>
<% } %>

<!-- Google Tag Manager (Optional - for advanced tracking) -->
<!-- Replace GTM-XXXXXXX with your GTM container ID -->
<% if (process.env.GTM_CONTAINER_ID) { %>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','<%= process.env.GTM_CONTAINER_ID %>');</script>
<% } %>
